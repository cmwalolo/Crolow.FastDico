@page "/settings/letters"
@using Crolow.FastDico.Models.ScrabbleApi.Entities
@inherits ComponentControls.Settings.Letters.LettersComponent;
<RadzenLayout Style="height:100%;grid-template-columns: 1fr auto; grid-template-areas: 'rz-header rz-header' 'rz-body rz-sidebar'">
    <SettingsSidebar />
    <RadzenBody>
        <div class="rz-p-1">
            <RadzenLayout Style="height:100%">
                <RadzenHeader style="padding:5px">
                    <RadzenStack Orientation="Orientation.Horizontal">
                        <RadzenMenu>
                            <RadzenMenuItem Text="New config" Icon="crossword" Click="AddItem">
                            </RadzenMenuItem>
                        </RadzenMenu>
                    </RadzenStack>
                </RadzenHeader>
                <RadzenBody style="margin-top:10px;padding:0px;">
                    <RadzenDataGrid style="overflow-y: auto; flex-grow: 1;display: flex; flex-wrap: wrap;" AllowFiltering="true" AllowSorting="true" AllowColumnResize="true"
                                    @ref="grid" Data="@results" TItem="LetterConfigModel">
                        <EmptyTemplate>
                            <p style="color: lightgrey; font-size: 24px; text-align: center; margin: 2rem;">No results</p>
                        </EmptyTemplate>
                        <Columns>
                            <RadzenDataGridColumn Property="@nameof(LetterConfigModel.Name)" Title="Name" />
                            <RadzenDataGridColumn Property="@nameof(LetterConfigModel.DictionaryId)" Title="Dictionary">
                                <Template Context="data">
                                    <RadzenText TextStyle="TextStyle.Body2">@(dicos.FirstOrDefault(p => p.Id == data.DictionaryId)?.Name)</RadzenText>
                                </Template>
                            </RadzenDataGridColumn>

                            <RadzenDataGridColumn TItem="LetterConfigModel" Width="30px" Title="" Filterable="false" Sortable="false">
                                <Template Context="data">
                                    <RadzenButton Click=@(() => EditItem(data)) Icon="edit" ButtonStyle="ButtonStyle.Primary" Size="ButtonSize.ExtraSmall" />
                                </Template>
                            </RadzenDataGridColumn>
                            <RadzenDataGridColumn TItem="LetterConfigModel" Width="30px" Title="" Filterable="false" Sortable="false">
                                <Template Context="data">
                                    <RadzenButton Click=@(() => DeleteItem(data)) Icon="delete" ButtonStyle="ButtonStyle.Danger" Size="ButtonSize.ExtraSmall" />
                                </Template>
                            </RadzenDataGridColumn>
                            <RadzenDataGridColumn TItem="LetterConfigModel" Width="30px" Title="" Filterable="false" Sortable="false">
                                <Template Context="data">
                                    <RadzenButton Click=@(() => CopyItem(data)) Icon="content_copy" ButtonStyle="ButtonStyle.Danger" Size="ButtonSize.ExtraSmall" />
                                </Template>
                            </RadzenDataGridColumn>
                        </Columns>
                    </RadzenDataGrid>
                </RadzenBody>
            </RadzenLayout>
        </div>
    </RadzenBody>
</RadzenLayout>

@code {
    bool sidebar1Expanded = true;
}